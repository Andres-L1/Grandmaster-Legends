import{d as he,c as Oe,a as C,f as T,s as k}from"../chunks/WEM4zU-r.js";import{C as pe,D as Ae,f as ye,E as we,F as Ce,G as U,H as He,p as ke,B as Pe,a as Se,c as o,s as i,r,t as X,k as e,I as x,e as Je,$ as Ke,n as be,o as w,J as M,K as xe}from"../chunks/D1QgSVr1.js";import{p as Z,i as G}from"../chunks/C3DcYbzO.js";import{s as oe,t as me,q as Ne,a as Qe,f as We,b as Re,e as Ue}from"../chunks/B8JIPuhH.js";import{h as Xe,p as Ye,c as ge,a as Ze}from"../chunks/D-VoJ5lT.js";import{r as _e,u as $e}from"../chunks/C8Tetz5N.js";import{s as et,C as tt}from"../chunks/CK5GFt-g.js";import{s as at,a as se}from"../chunks/Cel6M6FF.js";function rt(t,l,h=l){var v=new WeakSet;pe(t,"input",async m=>{var d=m?t.defaultValue:t.value;if(d=ie(t)?de(d):d,h(d),U!==null&&v.add(U),await Ae(),d!==(d=l())){var V=t.selectionStart,c=t.selectionEnd,P=t.value.length;if(t.value=d??"",c!==null){var u=t.value.length;V===c&&c===P&&u>P?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=V,t.selectionEnd=Math.min(c,u))}}}),(Ce&&t.defaultValue!==t.value||ye(l)==null&&t.value)&&(h(ie(t)?de(t.value):t.value),U!==null&&v.add(U)),we(()=>{var m=l();if(t===document.activeElement){var d=He??U;if(v.has(d))return}ie(t)&&m===de(t.value)||t.type==="date"&&!m&&!t.value||m!==t.value&&(t.value=m??"")})}function lt(t,l,h=l){pe(t,"change",v=>{var m=v?t.defaultChecked:t.checked;h(m)}),(Ce&&t.defaultChecked!==t.checked||ye(l)==null)&&h(t.checked),we(()=>{var v=l();t.checked=!!v})}function ie(t){var l=t.type;return l==="number"||l==="range"}function de(t){return t===""?null:+t}var ot=T('<button class="flex-1 bg-slate-700 hover:bg-slate-600 text-white font-bold py-4 px-6 rounded-xl transition-all hover:scale-105 active:scale-95"> </button>'),st=T('<div class="fixed inset-0 z-[200] bg-black/70 backdrop-blur-sm flex items-center justify-center p-4" role="button" tabindex="-1"><div role="dialog" tabindex="-1"><div><div class="absolute inset-0 opacity-20"><div class="absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full blur-3xl"></div> <div class="absolute bottom-0 left-0 w-32 h-32 bg-white/20 rounded-full blur-3xl"></div></div> <div class="relative z-10"><div class="text-6xl mb-3 animate-bounce"> </div> <h2 class="text-2xl font-black text-white"> </h2></div></div> <div class="p-6"><p class="text-slate-300 text-center text-lg leading-relaxed"> </p></div> <div class="px-6 pb-6 flex gap-3"><!> <button> </button></div></div></div>');function it(t,l){ke(l,!0);let h=Z(l,"type",3,"confirm"),v=Z(l,"confirmText",3,"Aceptar"),m=Z(l,"cancelText",3,"Cancelar"),d=Z(l,"show",15);function V(){var n;(n=l.onConfirm)==null||n.call(l),d(!1)}function c(){var n;(n=l.onCancel)==null||n.call(l),d(!1)}const P={confirm:{icon:"‚ùì",color:"from-blue-600 to-blue-700",borderColor:"border-blue-500/50"},alert:{icon:"‚ÑπÔ∏è",color:"from-cyan-600 to-cyan-700",borderColor:"border-cyan-500/50"},success:{icon:"‚úÖ",color:"from-green-600 to-green-700",borderColor:"border-green-500/50"},error:{icon:"‚ùå",color:"from-red-600 to-red-700",borderColor:"border-red-500/50"},warning:{icon:"‚ö†Ô∏è",color:"from-amber-600 to-amber-700",borderColor:"border-amber-500/50"}};let u=x(()=>P[h()]);var I=Oe(),O=Pe(I);{var S=n=>{var g=st();g.__click=c,g.__keydown=_=>_.key==="Escape"&&c();var p=o(g);p.__click=_=>_.stopPropagation(),p.__keydown=_=>_.stopPropagation();var q=o(p),z=i(o(q),2),B=o(z),A=o(B,!0);r(B);var H=i(B,2),$=o(H,!0);r(H),r(z),r(q);var J=i(q,2),K=o(J),N=o(K,!0);r(K),r(J);var F=i(J,2),Q=o(F);{var W=_=>{var D=ot();D.__click=c;var R=o(D,!0);r(D),X(()=>k(R,m())),C(_,D)};G(Q,_=>{h()==="confirm"&&_(W)})}var E=i(Q,2);E.__click=V;var Y=o(E,!0);r(E),r(F),r(p),r(g),X(()=>{oe(p,1,`bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full border-2 ${e(u).borderColor??""} overflow-hidden`),oe(q,1,`bg-gradient-to-r ${e(u).color??""} p-6 text-center relative overflow-hidden`),k(A,e(u).icon),k($,l.title),k(N,l.message),oe(E,1,`flex-1 bg-gradient-to-r ${e(u).color??""} hover:brightness-110 text-white font-black py-4 px-6 rounded-xl shadow-lg transition-all hover:scale-105 active:scale-95`),k(Y,v())}),me(3,p,()=>Qe,()=>({duration:300,easing:Ne})),me(3,g,()=>We,()=>({duration:200})),C(n,g)};G(O,n=>{d()&&n(S)})}C(t,I),Se()}he(["click","keydown"]);var dt=T('<div class="flex items-center gap-2 bg-slate-900 px-2 py-1 rounded-lg"><button class="px-2 py-1 text-slate-400 hover:text-white disabled:opacity-30">‚Üê</button> <span class="text-xs font-mono text-slate-500"> </span> <button class="px-2 py-1 text-slate-400 hover:text-white disabled:opacity-30">‚Üí</button></div>'),nt=T('<div class="py-20 text-center text-slate-500 animate-pulse">Cargando base de datos de jugadores...</div>'),ct=T('<div class="w-full aspect-[2/3] rounded-xl border border-slate-800 bg-slate-900/50 flex flex-col items-center justify-center grayscale opacity-40 hover:opacity-100 transition-opacity"><div class="text-4xl mb-2 text-slate-700">?</div> <div class="text-xs text-slate-600 font-bold uppercase"> </div></div>'),vt=T('<div class="relative group perspective"><!></div>'),ft=T('<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6"></div>'),ut=T('<div class="py-20 text-center text-slate-500">No se encontraron cartas con ese criterio.</div>'),bt=T('<div class="space-y-8"><div class="bg-slate-900/50 p-6 rounded-2xl border border-white/5 flex flex-col md:flex-row justify-between items-center gap-6"><div><h1 class="text-3xl font-bold font-serif text-white">Tu √Ålbum</h1> <p class="text-slate-400">Completa la colecci√≥n de los 500 mejores.</p></div> <div class="flex items-center gap-8"><div class="text-center"><div class="text-3xl font-mono font-bold text-amber-400"> <span class="text-slate-500 text-lg"> </span></div> <div class="text-xs uppercase tracking-widest text-slate-500">Cartas</div></div> <div class="w-48 h-4 bg-slate-800 rounded-full overflow-hidden border border-white/10"><div class="h-full bg-gradient-to-r from-amber-600 to-yellow-400 transition-all duration-1000"></div></div> <div class="font-mono text-sm text-amber-400"> </div></div></div> <div class="flex flex-col md:flex-row justify-between gap-4"><input type="text" placeholder="Buscar jugador..." class="bg-slate-900 border border-white/10 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50 w-full md:w-64"/> <div class="flex items-center gap-4"><label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer"><input type="checkbox" class="rounded bg-slate-800 border-white/10 text-amber-500 focus:ring-amber-500/50"/> Mostrar Faltantes</label> <!></div></div> <!> <!></div> <!>',1);function Ct(t,l){ke(l,!0);const h=()=>se(Ze,"$allPlayers",d),v=()=>se(ge,"$collectionIds",d),m=()=>se(Ye,"$playersLoading",d),[d,V]=at();let c=M(1),P=M(""),u=M(!0);const I=20;let O=M(!1),S=M(null),n=M(0),g=M(!1),p=x(()=>{let a=h();if(e(P)){const s=e(P).toLowerCase();a=a.filter(b=>b.name.toLowerCase().includes(s)||b.username.toLowerCase().includes(s))}return e(u)||(a=a.filter(s=>v().includes(s.id))),a}),q=x(()=>e(p).slice((e(c)-1)*I,e(c)*I)),z=x(()=>Math.ceil(e(p).length/I)),B=x(()=>v().length),A=x(()=>h().length),H=x(()=>e(A)>0?e(B)/e(A)*100:0);function $(a){let s=10;a.rating>=2700?s=500:a.rating>=2660?s=250:a.rating>=2655?s=50:a.rating>=2650&&(s=25);const f=v().filter(L=>L===a.id).length===1,y=f?Math.floor(s*.25):s;w(S,a,!0),w(n,y,!0),w(g,f),w(O,!0)}function J(){e(S)&&(ge.removeCard(e(S).id),$e.addCoins(e(n)),Re.success(`üí∞ Vendido ${e(S).name} por ${e(n)} monedas!`),w(S,null),w(n,0),w(g,!1))}var K=bt();Xe("1dle9it",a=>{Je(()=>{Ke.title="Colecci√≥n - Grandmaster Legends"})});var N=Pe(K),F=o(N),Q=i(o(F),2),W=o(Q),E=o(W),Y=o(E),_=i(Y),D=o(_);r(_),r(E),be(2),r(W);var R=i(W,2),Le=o(R);r(R);var ne=i(R,2),Te=o(ne);r(ne),r(Q),r(F);var ee=i(F,2),te=o(ee);_e(te);var ce=i(te,2),ae=o(ce),ve=o(ae);_e(ve),be(),r(ae);var je=i(ae,2);{var Ee=a=>{var s=dt(),b=o(s);b.__click=()=>xe(c,-1);var f=i(b,2),y=o(f);r(f);var L=i(f,2);L.__click=()=>xe(c),r(s),X(()=>{b.disabled=e(c)===1,k(y,`${e(c)??""} / ${e(z)??""}`),L.disabled=e(c)===e(z)}),C(a,s)};G(je,a=>{e(z)>1&&a(Ee)})}r(ce),r(ee);var fe=i(ee,2);{var Me=a=>{var s=nt();C(a,s)},Ve=a=>{var s=ft();Ue(s,21,()=>e(q),b=>b.id,(b,f)=>{const y=x(()=>v().includes(e(f).id)),L=x(()=>v().filter(j=>j===e(f).id).length);var re=vt(),Be=o(re);{var Fe=j=>{tt(j,{get player(){return e(f)},get count(){return e(L)},onClick:()=>$(e(f))})},De=j=>{var le=ct(),ue=i(o(le),2),Ge=o(ue,!0);r(ue),r(le),X(()=>k(Ge,e(f).name)),C(j,le)};G(Be,j=>{e(y)?j(Fe):j(De,!1)})}r(re),C(b,re)}),r(s),C(a,s)};G(fe,a=>{m()?a(Me):a(Ve,!1)})}var Ie=i(fe,2);{var qe=a=>{var s=ut();C(a,s)};G(Ie,a=>{e(p).length===0&&a(qe)})}r(N);var ze=i(N,2);{let a=x(()=>e(g)?"warning":"confirm"),s=x(()=>e(g)?"‚ö†Ô∏è ¬°√öltima Carta!":"üí∞ Vender Carta"),b=x(()=>{var y,L;return e(g)?`Solo recibir√°s ${e(n)} monedas (25% del valor) por ${(y=e(S))==null?void 0:y.name}. ¬øEst√°s seguro?`:`¬øVender a ${(L=e(S))==null?void 0:L.name} por ${e(n)} monedas?`}),f=x(()=>`Vender por ${e(n)} ü™ô`);it(ze,{get type(){return e(a)},get title(){return e(s)},get message(){return e(b)},get confirmText(){return e(f)},cancelText:"Cancelar",onConfirm:J,onCancel:()=>{},get show(){return e(O)},set show(y){w(O,y,!0)}})}X(a=>{k(Y,`${e(B)??""} `),k(D,`/ ${e(A)??""}`),et(Le,`width: ${e(H)??""}%`),k(Te,`${a??""}%`)},[()=>e(H).toFixed(1)]),rt(te,()=>e(P),a=>w(P,a)),lt(ve,()=>e(u),a=>w(u,a)),C(t,K),Se(),V()}he(["click"]);export{Ct as component};
