import{d as We,f as B,a as R,s as Q,c as Se,t as xe}from"../chunks/a4iteXJt.js";import{o as Xe}from"../chunks/DZ3vdKVB.js";import{p as je,I as G,a3 as Ue,u as ze,k as l,o as T,c as S,s as N,r as y,a as He,J as $e,t as re,K as ye,e as ea,$ as aa,n as ra}from"../chunks/BXTkSRxv.js";import{p as Fe,i as U}from"../chunks/Cuzyd57D.js";import{b as le,f as Oe,e as ke,i as Ve,c as ge,d as De,t as me,s as pe}from"../chunks/yBu_oirs.js";import{h as ta,c as _e,a as na}from"../chunks/Cs772Klj.js";import{s as oa,a as Ce}from"../chunks/DwZT0pW2.js";import{u as be,a as ia}from"../chunks/Gmw3wVdV.js";import{s as Be,C as la}from"../chunks/B6VqzyFz.js";import{b as Le}from"../chunks/DbwYs1Xx.js";const Pe={STARTER:{id:"STARTER",name:"Sobre Inicial",price:0,cardCount:3,description:"Tu primer paso hacia la gloria. Incluye una lecci√≥n sobre duplicados.",probabilities:{goat:0,legendary:0,epic:0,rare:0,common:1},image:"üéÅ"},PAWN:{id:"PAWN",name:"Sobre Pe√≥n",price:100,cardCount:3,description:"3 Cartas. Ideal para empezar.",probabilities:{goat:.001,legendary:.01,epic:.08,rare:.25,common:.659},image:"‚ôüÔ∏è"},KNIGHT:{id:"KNIGHT",name:"Sobre Caballo",price:500,cardCount:3,description:"3 Cartas. Mejores opciones.",probabilities:{goat:.01,legendary:.05,epic:.2,rare:.4,common:.34},image:"‚ôû"},KING:{id:"KING",name:"Sobre Rey",price:2e3,cardCount:3,description:"3 Cartas. La verdadera √©lite.",probabilities:{goat:.05,legendary:.15,epic:.35,rare:.3,common:.15},image:"‚ôö"}};class sa{openPack(u,g){if(u==="STARTER")return this.openStarterPack(g);const M=Pe[u],p=[],f={goat:g.filter(w=>w.rating>=2700),legendary:g.filter(w=>w.rating>=2660&&w.rating<2700),epic:g.filter(w=>w.rating>=2655&&w.rating<2660),rare:g.filter(w=>w.rating>=2650&&w.rating<2655),common:g.filter(w=>w.rating<2650)};f.goat.length===0&&(f.goat=f.legendary),f.legendary.length===0&&(f.legendary=f.epic),f.epic.length===0&&(f.epic=f.rare),f.rare.length===0&&(f.rare=f.common);for(let w=0;w<M.cardCount;w++){const A=Math.random();let F=[];if(A<M.probabilities.goat?F=f.goat:A<M.probabilities.goat+M.probabilities.legendary?F=f.legendary:A<M.probabilities.goat+M.probabilities.legendary+M.probabilities.epic?F=f.epic:A<M.probabilities.goat+M.probabilities.legendary+M.probabilities.epic+M.probabilities.rare?F=f.rare:F=f.common,F.length>0){const H=F[Math.floor(Math.random()*F.length)];p.push(H)}else p.push(g[Math.floor(Math.random()*g.length)])}return p}openStarterPack(u){const g=[],M=u.filter(A=>A.rating<2660),p=M.length>2?M:u,f=p[Math.floor(Math.random()*p.length)];let w=p[Math.floor(Math.random()*p.length)];for(;w.id===f.id;)w=p[Math.floor(Math.random()*p.length)];return g.push(f),g.push(w),g.push(f),g}}const Te=new sa;var Ie={};(function ue(u,g,M,p){var f=!!(u.Worker&&u.Blob&&u.Promise&&u.OffscreenCanvas&&u.OffscreenCanvasRenderingContext2D&&u.HTMLCanvasElement&&u.HTMLCanvasElement.prototype.transferControlToOffscreen&&u.URL&&u.URL.createObjectURL),w=typeof Path2D=="function"&&typeof DOMMatrix=="function",A=function(){if(!u.OffscreenCanvas)return!1;try{var a=new OffscreenCanvas(1,1),e=a.getContext("2d");e.fillRect(0,0,1,1);var n=a.transferToImageBitmap();e.createPattern(n,"no-repeat")}catch{return!1}return!0}();function F(){}function H(a){var e=g.exports.Promise,n=e!==void 0?e:u.Promise;return typeof n=="function"?new n(a):(a(F,F),null)}var K=function(a,e){return{transform:function(n){if(a)return n;if(e.has(n))return e.get(n);var o=new OffscreenCanvas(n.width,n.height),s=o.getContext("2d");return s.drawImage(n,0,0),e.set(n,o),o},clear:function(){e.clear()}}}(A,new Map),L=function(){var a=Math.floor(16.666666666666668),e,n,o={},s=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(c){var t=Math.random();return o[t]=requestAnimationFrame(function r(i){s===i||s+a-1<i?(s=i,delete o[t],c()):o[t]=requestAnimationFrame(r)}),t},n=function(c){o[c]&&cancelAnimationFrame(o[c])}):(e=function(c){return setTimeout(c,a)},n=function(c){return clearTimeout(c)}),{frame:e,cancel:n}}(),z=function(){var a,e,n={};function o(s){function c(t,r){s.postMessage({options:t||{},callback:r})}s.init=function(r){var i=r.transferControlToOffscreen();s.postMessage({canvas:i},[i])},s.fire=function(r,i,h){if(e)return c(r,null),e;var b=Math.random().toString(36).slice(2);return e=H(function(m){function d(x){x.data.callback===b&&(delete n[b],s.removeEventListener("message",d),e=null,K.clear(),h(),m())}s.addEventListener("message",d),c(r,b),n[b]=d.bind(null,{data:{callback:b}})}),e},s.reset=function(){s.postMessage({reset:!0});for(var r in n)n[r](),delete n[r]}}return function(){if(a)return a;if(!M&&f){var s=["var CONFETTI, SIZE = {}, module = {};","("+ue.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([s])))}catch(c){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("üéä Could not load worker",c),null}o(a)}return a}}(),X={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function te(a,e){return e?e(a):a}function se(a){return a!=null}function k(a,e,n){return te(a&&se(a[e])?a[e]:X[e],n)}function _(a){return a<0?0:Math.floor(a)}function O(a,e){return Math.floor(Math.random()*(e-a))+a}function P(a){return parseInt(a,16)}function $(a){return a.map(ne)}function ne(a){var e=String(a).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:P(e.substring(0,2)),g:P(e.substring(2,4)),b:P(e.substring(4,6))}}function ee(a){var e=k(a,"origin",Object);return e.x=k(e,"x",Number),e.y=k(e,"y",Number),e}function oe(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function J(a){var e=a.getBoundingClientRect();a.width=e.width,a.height=e.height}function V(a){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=a,e}function ae(a,e,n,o,s,c,t,r,i){a.save(),a.translate(e,n),a.rotate(c),a.scale(o,s),a.arc(0,0,1,t,r,i),a.restore()}function ce(a){var e=a.angle*(Math.PI/180),n=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function de(a,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var n=e.tick++/e.totalTicks,o=e.x+e.random*e.tiltCos,s=e.y+e.random*e.tiltSin,c=e.wobbleX+e.random*e.tiltCos,t=e.wobbleY+e.random*e.tiltSin;if(a.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",a.beginPath(),w&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))a.fill(C(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(c-o)*.1,Math.abs(t-s)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var r=Math.PI/10*e.wobble,i=Math.abs(c-o)*.1,h=Math.abs(t-s)*.1,b=e.shape.bitmap.width*e.scalar,m=e.shape.bitmap.height*e.scalar,d=new DOMMatrix([Math.cos(r)*i,Math.sin(r)*i,-Math.sin(r)*h,Math.cos(r)*h,e.x,e.y]);d.multiplySelf(new DOMMatrix(e.shape.matrix));var x=a.createPattern(K.transform(e.shape.bitmap),"no-repeat");x.setTransform(d),a.globalAlpha=1-n,a.fillStyle=x,a.fillRect(e.x-b/2,e.y-m/2,b,m),a.globalAlpha=1}else if(e.shape==="circle")a.ellipse?a.ellipse(e.x,e.y,Math.abs(c-o)*e.ovalScalar,Math.abs(t-s)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):ae(a,e.x,e.y,Math.abs(c-o)*e.ovalScalar,Math.abs(t-s)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var v=Math.PI/2*3,E=4*e.scalar,W=8*e.scalar,D=e.x,Z=e.y,Y=5,j=Math.PI/Y;Y--;)D=e.x+Math.cos(v)*W,Z=e.y+Math.sin(v)*W,a.lineTo(D,Z),v+=j,D=e.x+Math.cos(v)*E,Z=e.y+Math.sin(v)*E,a.lineTo(D,Z),v+=j;else a.moveTo(Math.floor(e.x),Math.floor(e.y)),a.lineTo(Math.floor(e.wobbleX),Math.floor(s)),a.lineTo(Math.floor(c),Math.floor(t)),a.lineTo(Math.floor(o),Math.floor(e.wobbleY));return a.closePath(),a.fill(),e.tick<e.totalTicks}function fe(a,e,n,o,s){var c=e.slice(),t=a.getContext("2d"),r,i,h=H(function(b){function m(){r=i=null,t.clearRect(0,0,o.width,o.height),K.clear(),s(),b()}function d(){M&&!(o.width===p.width&&o.height===p.height)&&(o.width=a.width=p.width,o.height=a.height=p.height),!o.width&&!o.height&&(n(a),o.width=a.width,o.height=a.height),t.clearRect(0,0,o.width,o.height),c=c.filter(function(x){return de(t,x)}),c.length?r=L.frame(d):m()}r=L.frame(d),i=m});return{addFettis:function(b){return c=c.concat(b),h},canvas:a,promise:h,reset:function(){r&&L.cancel(r),i&&i()}}}function ie(a,e){var n=!a,o=!!k(e||{},"resize"),s=!1,c=k(e,"disableForReducedMotion",Boolean),t=f&&!!k(e||{},"useWorker"),r=t?z():null,i=n?oe:J,h=a&&r?!!a.__confetti_initialized:!1,b=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,m;function d(v,E,W){for(var D=k(v,"particleCount",_),Z=k(v,"angle",Number),Y=k(v,"spread",Number),j=k(v,"startVelocity",Number),we=k(v,"decay",Number),Ge=k(v,"gravity",Number),Ke=k(v,"drift",Number),Re=k(v,"colors",$),qe=k(v,"ticks",Number),Ee=k(v,"shapes"),Ze=k(v,"scalar"),Je=!!k(v,"flat"),Ae=ee(v),Ne=D,Me=[],Ye=a.width*Ae.x,Qe=a.height*Ae.y;Ne--;)Me.push(ce({x:Ye,y:Qe,angle:Z,spread:Y,startVelocity:j,color:Re[Ne%Re.length],shape:Ee[O(0,Ee.length)],ticks:qe,decay:we,gravity:Ge,drift:Ke,scalar:Ze,flat:Je}));return m?m.addFettis(Me):(m=fe(a,Me,i,E,W),m.promise)}function x(v){var E=c||k(v,"disableForReducedMotion",Boolean),W=k(v,"zIndex",Number);if(E&&b)return H(function(j){j()});n&&m?a=m.canvas:n&&!a&&(a=V(W),document.body.appendChild(a)),o&&!h&&i(a);var D={width:a.width,height:a.height};r&&!h&&r.init(a),h=!0,r&&(a.__confetti_initialized=!0);function Z(){if(r){var j={getBoundingClientRect:function(){if(!n)return a.getBoundingClientRect()}};i(j),r.postMessage({resize:{width:j.width,height:j.height}});return}D.width=D.height=null}function Y(){m=null,o&&(s=!1,u.removeEventListener("resize",Z)),n&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,h=!1)}return o&&!s&&(s=!0,u.addEventListener("resize",Z,!1)),r?r.fire(v,D,Y):d(v,D,Y)}return x.reset=function(){r&&r.reset(),m&&m.reset()},x}var ve;function he(){return ve||(ve=ie(null,{useWorker:!0,resize:!0})),ve}function C(a,e,n,o,s,c,t){var r=new Path2D(a),i=new Path2D;i.addPath(r,new DOMMatrix(e));var h=new Path2D;return h.addPath(i,new DOMMatrix([Math.cos(t)*s,Math.sin(t)*s,-Math.sin(t)*c,Math.cos(t)*c,n,o])),h}function I(a){if(!w)throw new Error("path confetti are not supported in this browser");var e,n;typeof a=="string"?e=a:(e=a.path,n=a.matrix);var o=new Path2D(e),s=document.createElement("canvas"),c=s.getContext("2d");if(!n){for(var t=1e3,r=t,i=t,h=0,b=0,m,d,x=0;x<t;x+=2)for(var v=0;v<t;v+=2)c.isPointInPath(o,x,v,"nonzero")&&(r=Math.min(r,x),i=Math.min(i,v),h=Math.max(h,x),b=Math.max(b,v));m=h-r,d=b-i;var E=10,W=Math.min(E/m,E/d);n=[W,0,0,W,-Math.round(m/2+r)*W,-Math.round(d/2+i)*W]}return{type:"path",path:e,matrix:n}}function q(a){var e,n=1,o="#000000",s='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?e=a:(e=a.text,n="scalar"in a?a.scalar:n,s="fontFamily"in a?a.fontFamily:s,o="color"in a?a.color:o);var c=10*n,t=""+c+"px "+s,r=new OffscreenCanvas(c,c),i=r.getContext("2d");i.font=t;var h=i.measureText(e),b=Math.ceil(h.actualBoundingBoxRight+h.actualBoundingBoxLeft),m=Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent),d=2,x=h.actualBoundingBoxLeft+d,v=h.actualBoundingBoxAscent+d;b+=d+d,m+=d+d,r=new OffscreenCanvas(b,m),i=r.getContext("2d"),i.font=t,i.fillStyle=o,i.fillText(e,x,v);var E=1/n;return{type:"bitmap",bitmap:r.transferToImageBitmap(),matrix:[E,0,0,E,-b*E/2,-m*E/2]}}g.exports=function(){return he().apply(this,arguments)},g.exports.reset=function(){he().reset()},g.exports.create=ie,g.exports.shapeFromPath=I,g.exports.shapeFromText=q})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ie,!1);const ca=Ie.exports;Ie.exports.create;var da=B('<div class="absolute w-3 h-3 bg-amber-400 rounded-full animate-ping svelte-18z0v2l"></div>'),va=B('<div class="flex flex-col items-center gap-8 svelte-18z0v2l"><div class="text-9xl animate-bounce drop-shadow-2xl svelte-18z0v2l"> </div> <div class="text-3xl font-bold text-white animate-pulse svelte-18z0v2l">Abriendo sobre...</div> <div class="relative w-32 h-32 svelte-18z0v2l"></div></div>'),ua=B('<div class="absolute inset-0 bg-black/80 flex flex-col items-center justify-center rounded-xl backdrop-blur-sm z-20 svelte-18z0v2l"><span class="text-amber-400 font-bold mb-3 text-lg drop-shadow-md svelte-18z0v2l">¬°REPETIDA!</span> <button class="bg-green-500 hover:bg-green-400 text-black font-black text-sm px-4 py-3 rounded-full shadow-lg shadow-green-500/20 transition-all hover:scale-105 active:scale-95 svelte-18z0v2l">VENDER (+100 ü™ô)</button></div>'),fa=B('<div class="absolute inset-0 bg-black/60 flex items-center justify-center rounded-xl z-20 svelte-18z0v2l"><span class="text-green-400 font-bold text-xl svelte-18z0v2l">‚úÖ VENDIDA</span></div>'),ha=B('<div class="relative max-w-xs w-full svelte-18z0v2l"><div class="absolute inset-0 blur-3xl opacity-50 rounded-xl svelte-18z0v2l"></div> <div class="relative transform hover:scale-105 transition-transform svelte-18z0v2l"><!></div> <!></div>'),ma=B('<button class="bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-400 hover:to-yellow-400 text-slate-900 font-black px-12 py-5 rounded-full text-xl shadow-2xl shadow-amber-500/30 transition-all hover:scale-110 active:scale-95 animate-pulse svelte-18z0v2l">‚ú® Revelar Siguiente Carta</button>'),ga=B('<button class="bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-400 hover:to-green-400 text-white font-black px-12 py-5 rounded-full text-xl shadow-2xl shadow-emerald-500/30 transition-all hover:scale-110 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:grayscale svelte-18z0v2l"> </button>'),pa=B(`<p class="text-center text-slate-400 text-sm max-w-lg bg-slate-900/80 p-4 rounded-lg border border-white/5 svelte-18z0v2l"><strong class="svelte-18z0v2l">Tutorial:</strong> Has recibido cartas, pero una
                        est√° repetida. ¬°V√©ndela para conseguir tus primeras monedas!</p>`),ba=B('<div class="w-full max-w-7xl px-4 space-y-8 svelte-18z0v2l"><div class="text-center space-y-2 svelte-18z0v2l"><h2 class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-400 to-amber-600 svelte-18z0v2l"> </h2> <p class="text-slate-400 text-lg svelte-18z0v2l"><!></p></div> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 justify-items-center svelte-18z0v2l"></div> <div class="flex flex-col items-center gap-4 pt-8 svelte-18z0v2l"><!> <!></div></div>'),xa=B('<div class="fixed inset-0 z-[150] bg-gradient-to-b from-slate-950 via-slate-900 to-black flex items-center justify-center svelte-18z0v2l"><!> <!></div>');function ya(ue,u){je(u,!0);let g=Fe(u,"isStarter",3,!1),M=Fe(u,"duplicateSold",3,!1),p=G("opening"),f=G(0),w=G(!0),A=G(Ue([]));const F={STARTER:"üéÅ",PAWN:"‚ôüÔ∏è",KNIGHT:"‚ôû",KING:"‚ôö"};function H(_){return _>=2700?"#fbbf24":_>=2660?"#fb923c":_>=2655?"#a855f7":_>=2650?"#3b82f6":"#94a3b8"}function K(_){const O=H(_);if(_>=2655&&ca({particleCount:_>=2700?200:_>=2660?150:100,spread:100,origin:{y:.6},colors:[O,"#ffffff"],ticks:300}),_>=2700){const P=document.createElement("div");P.className="fixed inset-0 bg-yellow-400 pointer-events-none z-[200]",P.style.opacity="0.3",document.body.appendChild(P),setTimeout(()=>{P.style.transition="opacity 0.5s",P.style.opacity="0",setTimeout(()=>P.remove(),500)},100)}}ze(()=>{l(p)==="opening"&&setTimeout(()=>{T(w,!1),setTimeout(()=>{T(p,"revealing")},500)},2e3)});function L(){if(l(f)<u.cards.length){const _=u.cards[l(f)];T(A,[...l(A),_],!0),K(_.card.rating),$e(f),l(f)>=u.cards.length&&setTimeout(()=>{T(p,"complete")},1e3)}}ze(()=>{l(p)==="revealing"&&l(f)===0&&setTimeout(L,300)});var z=xa(),X=S(z);{var te=_=>{var O=va(),P=S(O),$=S(P,!0);y(P);var ne=N(P,4);ke(ne,20,()=>Array(8),Ve,(ee,oe,J)=>{var V=da();Be(V,`
                            top: 50%;
                            left: 50%;
                            animation-delay: ${J*.15}s;
                            transform: rotate(${J*45}deg) translateY(-50px);
                        `),R(ee,V)}),y(ne),y(O),re(()=>Q($,F[u.packType]||"üì¶")),le(1,O,()=>ge,()=>({duration:600,easing:Le})),le(2,O,()=>ge,()=>({duration:400})),R(_,O)};U(X,_=>{l(p)==="opening"&&l(w)&&_(te)})}var se=N(X,2);{var k=_=>{var O=ba(),P=S(O),$=S(P),ne=S($,!0);y($);var ee=N($,2),oe=S(ee);{var J=C=>{var I=xe();re(()=>Q(I,`Carta ${l(f)??""} de ${u.cards.length??""}`)),R(C,I)},V=C=>{var I=xe("¬°Todas las cartas reveladas!");R(C,I)};U(oe,C=>{l(p)==="revealing"?C(J):C(V,!1)})}y(ee),y(P);var ae=N(P,2);ke(ae,23,()=>l(A),({card:C,isNew:I},q)=>C.id+q,(C,I)=>{let q=()=>l(I).card,a=()=>l(I).isNew;var e=ha(),n=S(e),o=N(n,2),s=S(o);la(s,{get player(){return q()},get isNew(){return a()},onClick:()=>{}}),y(o);var c=N(o,2);{var t=r=>{var i=Se(),h=ye(i);{var b=d=>{var x=ua(),v=N(S(x),2);v.__click=()=>{var E;return(E=u.onSellDuplicate)==null?void 0:E.call(u,q())},y(x),le(1,x,()=>Oe,()=>({delay:500})),R(d,x)},m=d=>{var x=fa();R(d,x)};U(h,d=>{M()?d(m,!1):d(b)})}R(r,i)};U(c,r=>{g()&&!a()&&u.onSellDuplicate&&r(t)})}y(e),re(r=>Be(n,`background: radial-gradient(circle, ${r??""}, transparent);`),[()=>H(q().rating)]),le(1,e,()=>De,()=>({y:100,duration:800,delay:0,easing:Le})),R(C,e)}),y(ae);var ce=N(ae,2),de=S(ce);{var fe=C=>{var I=ma();I.__click=L,le(1,I,()=>ge,()=>({delay:600,duration:400})),R(C,I)},ie=C=>{var I=Se(),q=ye(I);{var a=e=>{var n=ga();n.__click=function(...s){var c;(c=u.onComplete)==null||c.apply(this,s)};var o=S(n,!0);y(n),re(()=>{n.disabled=g()&&!M(),Q(o,g()&&!M()?"Vende la repetida para continuar":"üéâ Continuar")}),le(1,n,()=>ge,()=>({delay:300,duration:400})),R(e,n)};U(q,e=>{l(p)==="complete"&&e(a)},!0)}R(C,I)};U(de,C=>{l(p)==="revealing"&&l(f)<u.cards.length?C(fe):C(ie,!1)})}var ve=N(de,2);{var he=C=>{var I=pa();R(C,I)};U(ve,C=>{g()&&l(p)==="complete"&&C(he)})}y(ce),y(O),re(()=>Q(ne,g()?"¬°Tu Primer Sobre!":"¬°Contenido del Sobre!")),le(1,P,()=>De,()=>({y:-50,duration:500})),R(_,O)};U(se,_=>{(l(p)==="revealing"||l(p)==="complete")&&_(k)})}y(z),le(3,z,()=>Oe,()=>({duration:300})),R(ue,z),He()}We(["click"]);var wa=B('<div class="bg-green-500 text-black font-black px-6 py-3 rounded-full text-lg shadow-lg shadow-green-500/30 animate-pulse">¬°GRATIS!</div>'),Ma=B('<div class="bg-slate-700 text-slate-400 font-bold px-6 py-3 rounded-full text-sm"> </div>'),_a=B('<div class="absolute inset-0 bg-green-500/10 rounded-2xl animate-pulse pointer-events-none"></div>'),Ca=B('<button class="group relative flex flex-col items-center p-8 rounded-2xl border border-white/10 bg-gradient-to-b from-slate-800 to-slate-900 transition-all hover:-translate-y-2 hover:shadow-2xl hover:shadow-amber-500/10 hover:border-amber-500/30"><div class="text-8xl mb-6 transform group-hover:scale-110 transition-transform duration-300 drop-shadow-xl"> </div> <h3 class="text-2xl font-bold font-serif text-white mb-2"> </h3> <p class="text-sm text-slate-400 text-center mb-6 h-12"> </p> <div class="mt-auto flex items-center gap-2 bg-slate-950/50 px-6 py-3 rounded-xl border border-white/5 group-hover:bg-amber-500/20 group-hover:border-amber-500/50 transition-colors"><span class="text-2xl">ü™ô</span> <span class="text-xl font-bold font-mono text-white group-hover:text-amber-300"> </span></div> <div class="absolute inset-0 bg-amber-500/5 opacity-0 group-hover:opacity-100 rounded-2xl transition-opacity pointer-events-none"></div></button>'),Ta=B(`<div class="max-w-6xl mx-auto space-y-12"><div class="text-center space-y-4"><h1 class="text-5xl font-black font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-400 to-amber-600 drop-shadow-sm">Tienda de Sobres</h1> <p class="text-slate-400 text-lg max-w-2xl mx-auto">Usa tus monedas para adquirir nuevos sobres y completar tu colecci√≥n
            de leyendas.</p></div> <div class="relative"><button><div class="flex items-center gap-4"><div>üéÅ</div> <div class="text-left"><h3>Sobre Diario Gratis</h3> <p><!></p></div></div> <!> <!></button></div> <div class="grid grid-cols-1 md:grid-cols-3 gap-8"></div></div> <!>`,1);function Oa(ue,u){je(u,!0);const g=()=>Ce(be,"$user",f),M=()=>Ce(na,"$allPlayers",f),p=()=>Ce(_e,"$collectionIds",f),[f,w]=oa();let A=G(!1),F=G(Ue([])),H=G(!1),K=G(!1),L=G(!1),z=G(!1),X=G(""),te=G("PAWN");function se(){const t=g().lastDailyPackClaim||0,i=Date.now()-t,h=24*60*60*1e3;if(i>=h)T(z,!0),T(X,"");else{T(z,!1);const b=h-i,m=Math.floor(b/(60*60*1e3)),d=Math.floor(b%(60*60*1e3)/(60*1e3));T(X,`${m}h ${d}m`)}}function k(){l(z)&&(be.update(t=>{const r={...t,lastDailyPackClaim:Date.now()};return typeof window<"u"&&ia.saveUser(r),r}),T(A,!0),T(K,!1),T(te,"PAWN"),me.success("¬°Sobre Diario Reclamado!"),setTimeout(()=>{const t=Te.openPack("PAWN",M());P(t),se()},500))}Xe(()=>{p().length===0&&_(),se();const t=setInterval(se,6e4);return()=>clearInterval(t)});function _(){T(K,!0),T(A,!0),T(L,!1),T(te,"STARTER"),setTimeout(()=>{const t=Te.openPack("STARTER",M());P(t),me.info("¬°Bienvenido! Has recibido un Sobre Inicial.")},500)}function O(t){if(l(A))return;const r=Pe[t];if(g().coins<r.price){me.error("No tienes suficientes monedas.");return}be.spendCoins(r.price)&&(T(A,!0),T(K,!1),T(te,t,!0),me.success(`¬°Compraste un ${r.name}!`),setTimeout(()=>{const i=Te.openPack(t,M());P(i)},500))}function P(t){T(F,t.map(r=>{const{isNew:i}=_e.addCard(r.id);return{card:r,isNew:i}}),!0),T(A,!1),T(H,!0)}function $(t){l(L)||(be.addCoins(100),_e.removeCard(t.id),T(L,!0),me.success("¬°Vendido! Has ganado 100 Monedas."))}function ne(){if(l(K)&&!l(L)){me.error("Debes vender la carta repetida para continuar.");return}T(H,!1),T(F,[],!0),T(L,!1)}var ee=Ta();ta("1vodbqu",t=>{ea(()=>{aa.title="Tienda - Grandmaster Legends"})});var oe=ye(ee),J=N(S(oe),2),V=S(J);V.__click=k;var ae=S(V),ce=S(ae),de=N(ce,2),fe=S(de),ie=N(fe,2),ve=S(ie);{var he=t=>{var r=xe("¬°Disponible ahora! Haz clic para reclamar");R(t,r)},C=t=>{var r=xe();re(()=>Q(r,`Pr√≥ximo sobre en: ${l(X)??""}`)),R(t,r)};U(ve,t=>{l(z)?t(he):t(C,!1)})}y(ie),y(de),y(ae);var I=N(ae,2);{var q=t=>{var r=wa();R(t,r)},a=t=>{var r=Ma(),i=S(r);y(r),re(()=>Q(i,`üïê ${l(X)??""}`)),R(t,r)};U(I,t=>{l(z)?t(q):t(a,!1)})}var e=N(I,2);{var n=t=>{var r=_a();R(t,r)};U(e,t=>{l(z)&&t(n)})}y(V),y(J);var o=N(J,2);ke(o,21,()=>Object.values(Pe),Ve,(t,r)=>{var i=Se(),h=ye(i);{var b=m=>{var d=Ca();d.__click=()=>O(l(r).id);var x=S(d),v=S(x,!0);y(x);var E=N(x,2),W=S(E,!0);y(E);var D=N(E,2),Z=S(D,!0);y(D);var Y=N(D,2),j=N(S(Y),2),we=S(j,!0);y(j),y(Y),ra(2),y(d),re(()=>{d.disabled=l(A),Q(v,l(r).image),Q(W,l(r).name),Q(Z,l(r).description),Q(we,l(r).price)}),R(m,d)};U(h,m=>{l(r).id!=="STARTER"&&m(b)})}R(t,i)}),y(o),y(oe);var s=N(oe,2);{var c=t=>{ya(t,{get cards(){return l(F)},get packType(){return l(te)},get isStarter(){return l(K)},onSellDuplicate:$,get duplicateSold(){return l(L)},onComplete:ne})};U(s,t=>{l(H)&&t(c)})}re(()=>{pe(V,1,`w-full group relative flex flex-col md:flex-row items-center justify-between p-6 rounded-2xl border-2 transition-all ${l(z)?"border-green-500 bg-gradient-to-r from-green-900/40 via-emerald-900/40 to-green-900/40 hover:shadow-2xl hover:shadow-green-500/20 hover:-translate-y-1":"border-slate-700 bg-gradient-to-r from-slate-800 to-slate-900 cursor-not-allowed opacity-75"}`),V.disabled=!l(z)||l(A),pe(ce,1,`text-6xl ${l(z)?"animate-bounce":""}`),pe(fe,1,`text-2xl font-bold font-serif ${l(z)?"text-green-400":"text-slate-400"}`),pe(ie,1,`text-sm ${l(z)?"text-green-300":"text-slate-500"}`)}),R(ue,ee),He(),w()}We(["click"]);export{Oa as component};
