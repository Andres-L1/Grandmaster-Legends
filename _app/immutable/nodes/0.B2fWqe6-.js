import{f as F,a as T,s as P,e as J,d as ee}from"../chunks/BmlTaktn.js";import{o as te}from"../chunks/Dc_oSVic.js";import{_ as ae,ax as se,p as I,a as N,r,c as i,s as o,t as A,k as p,m as re,v as ie,aI as oe,j as ne,o as H,Y as le,aG as de}from"../chunks/ChKhwW6z.js";import{B as ce}from"../chunks/Su9L5ZLI.js";import{s as B}from"../chunks/Dxec992p.js";import{s as W,a as Z}from"../chunks/DAfpwKJz.js";import{b as q}from"../chunks/Cn6o_lw9.js";import{u as G,o as ue,a as pe}from"../chunks/BGqSlqhw.js";import{t as L,s as U,b as ve,c as me,f as xe,M as V}from"../chunks/BP6PtCVq.js";import{i as Y}from"../chunks/BvzoVUxM.js";import{e as K,i as fe}from"../chunks/cp89KXi_.js";function ge(t,e,...a){var _=new ce(t);ae(()=>{const v=e()??null;_.ensure(v,v&&(s=>v(s,...a)))},se)}const he=!0,be=!1,Ie=Object.freeze(Object.defineProperty({__proto__:null,prerender:he,ssr:be},Symbol.toStringTag,{value:"Module"}));function ye(t){const e=t-1;return e*e*e+1}function _e(t,{from:e,to:a},_={}){var{delay:v=0,duration:s=w=>Math.sqrt(w)*120,easing:n=ye}=_,m=getComputedStyle(t),l=m.transform==="none"?"":m.transform,[d,c]=m.transformOrigin.split(" ").map(parseFloat);d/=t.clientWidth,c/=t.clientHeight;var u=$e(t),x=t.clientWidth/a.width/u,h=t.clientHeight/a.height/u,b=e.left+e.width*d,M=e.top+e.height*c,y=a.left+a.width*d,C=a.top+a.height*c,$=(b-y)*x,f=(M-C)*h,z=e.width/a.width,k=e.height/a.height;return{delay:v,duration:typeof s=="function"?s(Math.sqrt($*$+f*f)):s,easing:n,css:(w,S)=>{var E=S*$,O=S*f,D=w+S*z,g=w+S*k;return`transform: ${l} translate(${E}px, ${O}px) scale(${D}, ${g});`}}}function $e(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,a=1;e!==null;)a*=+getComputedStyle(e).zoom,e=e.parentElement;return a}var we=F('<div role="alert"><div class="flex-shrink-0 w-6 h-6 rounded-full bg-white/5 flex items-center justify-center font-bold text-sm"> </div> <p class="text-sm font-medium flex-1"> </p> <button class="text-white/20 hover:text-white transition-colors" aria-label="Cerrar notificaciÃ³n">âœ•</button></div>'),je=F('<div class="fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none"></div>');function Me(t,e){I(e,!1);const a=()=>Z(L,"$toast",_),[_,v]=W();function s(l){switch(l){case"success":return"âœ“";case"error":return"âœ•";default:return"â„¹"}}function n(l){switch(l){case"success":return"bg-slate-900 border-green-500/30 text-green-400";case"error":return"bg-slate-900 border-red-500/30 text-red-400";default:return"bg-slate-900 border-blue-500/30 text-blue-400"}}Y();var m=je();K(m,13,a,l=>l.id,(l,d)=>{var c=we(),u=i(c),x=i(u,!0);r(u);var h=o(u,2),b=i(h,!0);r(h);var M=o(h,2);r(c),A((y,C)=>{U(c,1,`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg backdrop-blur-md min-w-[300px] ${y??""}`),P(x,C),P(b,p(d).message)},[()=>n(p(d).type),()=>s(p(d).type)]),J("click",M,()=>L.dismiss(p(d).id)),ve(c,()=>_e,()=>({duration:300})),me(3,c,()=>xe,()=>({y:20,duration:300})),T(l,c)}),r(m),T(t,m),N(),v()}var Ce=F("<div></div>"),ke=F('<div class="text-center py-6 px-4"><div class="text-6xl mb-6 animate-bounce"> </div> <h2 class="text-2xl font-bold font-serif text-white mb-4"> </h2> <p class="text-slate-300 text-lg leading-relaxed mb-8 min-h-[100px]"> </p> <div class="flex flex-col gap-4"><button class="btn-primary w-full py-3 text-lg shadow-xl"> </button> <div class="flex justify-center gap-2 mt-4"></div></div></div>');function Se(t,e){I(e,!1);const a=()=>Z(G,"$user",_),[_,v]=W();let s=re(0);const n=[{title:"Bienvenido a Grandmaster Fantasy",content:"ConviÃ©rtete en el mejor manager de ajedrez del mundo. Ficha a los mejores Grandes Maestros, gestiona tu presupuesto y compite por la gloria.",emoji:"â™”"},{title:"Tu Presupuesto",content:"Comienzas con 100M. Ãšsalos sabiamente para fichar jugadores en el Mercado. Â¡Cuidado! Los mejores jugadores son caros.",emoji:"ğŸ’°"},{title:"Tu Equipo",content:"Debes formar una alineaciÃ³n titular de 3 jugadores. Ellos puntuarÃ¡n en base a sus partidas reales en Lichess y torneos.",emoji:"â™Ÿï¸"},{title:"ClÃ¡usulas de RescisiÃ³n",content:"Â¡Protege a tus estrellas! Otros managers pueden robarte jugadores pagando su clÃ¡usula. AumÃ©ntala para disuadirlos (cuesta el 10% del aumento).",emoji:"ğŸ›¡ï¸"},{title:"Sistema de PuntuaciÃ³n",content:"Victoria (+10), Tablas (+3), Derrota (-2). El CapitÃ¡n duplica puntos. Â¡Buena suerte!",emoji:"ğŸ†"}];function m(){p(s)<n.length-1?oe(s):G.completeOnboarding()}Y();{let l=ie(()=>!a().seenOnboarding);V(t,{get isOpen(){return p(l)},title:"",onClose:()=>{},hideCloseButton:!0,children:(d,c)=>{var u=ke(),x=i(u),h=i(x,!0);r(x);var b=o(x,2),M=i(b,!0);r(b);var y=o(b,2),C=i(y,!0);r(y);var $=o(y,2),f=i($),z=i(f,!0);r(f);var k=o(f,2);K(k,5,()=>n,fe,(w,S,E)=>{var O=Ce();A(()=>U(O,1,`w-2 h-2 rounded-full transition-colors ${E===p(s)?"bg-primary":"bg-slate-700"}`)),T(w,O)}),r(k),r($),r(u),A(()=>{P(h,n[p(s)].emoji),P(M,n[p(s)].title),P(C,n[p(s)].content),P(z,p(s)===n.length-1?"Â¡Empezar a Jugar!":"Siguiente")}),J("click",f,m),T(d,u)},$$slots:{default:!0}})}N(),v()}var Pe=F(`<div class="space-y-6 text-sm text-slate-300 max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar"><section><h3 class="text-white font-serif font-bold text-lg mb-2">ğŸ’° Mercado y Fichajes</h3> <ul class="list-disc pl-4 space-y-2 text-slate-400"><li>Tienes un presupuesto inicial de <strong class="text-primary">100M</strong>.</li> <li>Puedes tener hasta <strong>15 jugadores</strong> en tu plantilla.</li> <li>Al vender un jugador, recuperas el <strong class="text-white">80%</strong> de su valor actual.</li></ul></section> <section><h3 class="text-primary font-serif font-bold text-lg mb-2">ğŸ›¡ï¸ ClÃ¡usulas de RescisiÃ³n</h3> <div class="bg-slate-800/50 p-4 rounded-lg border border-white/5"><p class="mb-3 text-slate-300">Cada jugador tiene una clÃ¡usula. Si es baja, Â¡te lo pueden
					robar!</p> <ul class="list-disc pl-4 space-y-1 text-slate-400"><li>La clÃ¡usula inicial es igual al precio de compra.</li> <li>Puedes <strong class="text-white">aumentar la clÃ¡usula</strong> de cualquier jugador.</li> <li>El coste de aumentar la clÃ¡usula es el <strong class="text-red-400">10%</strong> de la diferencia.</li> <li><em>Ejemplo: Subir de 10M a 20M cuesta 1M.</em></li></ul></div></section> <section><h3 class="text-success font-serif font-bold text-lg mb-2">ğŸ† PuntuaciÃ³n</h3> <div class="grid grid-cols-2 gap-3 text-center text-xs"><div class="bg-slate-800/50 p-3 rounded-lg border border-white/5"><div class="text-success font-bold text-xl">+10</div> <div class="uppercase tracking-wider text-[10px] mt-1">Victoria</div></div> <div class="bg-slate-800/50 p-3 rounded-lg border border-white/5"><div class="text-amber-400 font-bold text-xl">+3</div> <div class="uppercase tracking-wider text-[10px] mt-1">Tablas</div></div> <div class="bg-slate-800/50 p-3 rounded-lg border border-white/5"><div class="text-red-400 font-bold text-xl">-2</div> <div class="uppercase tracking-wider text-[10px] mt-1">Derrota</div></div> <div class="bg-slate-800/50 p-3 rounded-lg border border-white/5"><div class="text-blue-400 font-bold text-xl">+2</div> <div class="uppercase tracking-wider text-[10px] mt-1">Bonus Negras</div></div></div> <p class="mt-4 text-center text-xs text-slate-500 font-medium">El CapitÃ¡n (â˜…) duplica todos sus puntos.</p></section></div>`),ze=F('<div class="min-h-screen relative"><!> <!> <nav class="border-b border-white/5 bg-slate-900/80 backdrop-blur-md sticky top-0 z-50"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><a class="text-xl font-bold font-serif flex items-center gap-2 text-white hover:text-primary transition-colors"><span class="text-2xl text-primary">â™”</span> <span class="hidden sm:inline tracking-tight">Grandmaster Fantasy</span> <span class="sm:hidden">GF</span></a> <div class="flex items-center gap-4 sm:gap-6"><a class="text-sm font-medium text-slate-400 hover:text-white transition-colors">Mercado</a> <a class="text-sm font-medium text-slate-400 hover:text-white transition-colors">Equipo</a> <a class="text-sm font-medium text-slate-400 hover:text-white transition-colors">Stats</a> <button class="text-sm font-medium text-slate-400 hover:text-primary transition-colors">Reglas</button> <div class="hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 border border-primary/20"><span class="text-lg">ğŸ’°</span> <span class="font-bold text-sm text-primary"> </span></div></div></div></div></nav> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10"><!></main></div> <!>',1);function Ne(t,e){I(e,!0);const a=()=>Z(G,"$user",_),[_,v]=W();let s=de(!1);function n(g){return`${(g/1e6).toFixed(0)}M`}te(()=>{m()});function m(){if(Math.random()>.05)return;const g=le(ue);if(g.length===0)return;const j=g[Math.floor(Math.random()*g.length)],R=Math.floor(j.price*(1+Math.random()*.5));if(R>=j.clause){pe.sellPlayer(j.id);const Q=Math.floor(j.price*.8),X=j.clause-Q;G.updateBudget(X),L.error(`Â¡CLAUSULAZO! Te han robado a ${j.name} por ${n(j.clause)}`,6e3)}else L.info(`Rumor: Oferta de ${n(R)} por ${j.name} rechazada.`,5e3)}var l=ze(),d=ne(l),c=i(d);Me(c,{});var u=o(c,2);Se(u,{});var x=o(u,2),h=i(x),b=i(h),M=i(b),y=o(M,2),C=i(y),$=o(C,2),f=o($,2),z=o(f,2);z.__click=()=>H(s,!0);var k=o(z,2),w=o(i(k),2),S=i(w,!0);r(w),r(k),r(y),r(b),r(h),r(x);var E=o(x,2),O=i(E);ge(O,()=>e.children),r(E),r(d);var D=o(d,2);V(D,{get isOpen(){return p(s)},title:"Reglas del Juego",onClose:()=>H(s,!1),children:(g,j)=>{var R=Pe();T(g,R)},$$slots:{default:!0}}),A(g=>{B(M,"href",`${q??""}/`),B(C,"href",`${q??""}/market`),B($,"href",`${q??""}/my-team`),B(f,"href",`${q??""}/stats`),P(S,g)},[()=>n(a().budget)]),T(t,l),N(),v()}ee(["click"]);export{Ne as component,Ie as universal};
